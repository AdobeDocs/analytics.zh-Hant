---
title: 銷售 eVar 和產品尋找方法
description: 深入了解銷售 eVar 背後的概念，以及這些方法如何處理和分配資料。
feature: Admin Tools
role: Admin
exl-id: 9e1a39aa-451f-49bb-8e39-797b6bbd5499
source-git-commit: a6967c7d4e1dca5491f13beccaa797167b503d6e
workflow-type: tm+mt
source-wordcount: '5279'
ht-degree: 95%

---

# 銷售 eVar 和產品尋找方法

這份非常詳細的文件旨在說明銷售 eVar 背後的概念；銷售 eVar 以有別於標準 eVar 的方式來處理和分配資料。 本文件也會說明銷售 eVar 所用的相關產品尋找方法。

## 概觀

使用銷售 eVars 可讓您將任何成功的活動分配到從&#x200B;*每個產品*&#x200B;層級上的 eVar 所擷取的數值，而不是從&#x200B;*每次造訪/每次訂購*&#x200B;的層級上所擷取的數值。

雖然大多數零售網站有很多尋找產品的方法，但 Adobe 認為以下是每個零售客戶端應該在 &#x200B;&#x200B;Adobe Analytics 中追蹤基本產品的尋找方法：

* 內部搜尋關鍵字
* 內部行銷活動追蹤程式碼
* 銷售/瀏覽類別
* 交叉銷售連結

讓我們針對本文件目的將一些 eVar 對應到解決方案，如下所示：

* eVar2：內部搜尋關鍵字
* eVar3：內部行銷活動追蹤程式碼
* eVar4：銷售/瀏覽類別
* eVar5：交叉銷售連結

我們可以使用額外的 eVar 來衡量相互關係中所有產品尋找方法的效能。除了上述的尋找方法之外，eVar 也包含其他尋找方法 (例如至外部網站產品詳情頁面的連結) 以做為比較。

* eVar1：產品尋找方法

您不應該將任何這些變數設定為標準 eVar，而是應將這些設定為銷售 eVar。

為了示範如何設定這些變數，以下範例將說明訪客如何決定使用內部關鍵字搜尋「涼鞋」在網站上尋找產品。 在關鍵字搜尋結果頁面上，您必須至少在兩個 eVar 中擷取資料：

* `eVar2` 等於搜尋中所用的關鍵字 (「涼鞋」)
* `eVar1` 等於使用的產品尋找方法 (「內部關鍵字搜尋」)。

當您將這兩個變數設定為等於這些特定值時，您會知道訪客正在使用內部關鍵字搜尋字詞「涼鞋」來尋找產品。 同時，您也會知道訪客未使用其他產品尋找方法來尋找產品 (例如，訪客不會在執行關鍵字搜尋的同時也在瀏覽產品類別)。 為了確保能夠依產品適當地分配，這些未使用的方法不應該因為透過內部關鍵字搜尋找到產品而獲得點數。 因此，您必須在程式碼(例如AppMeasurement、Adobe Experience Platform Web SDK等)中插入邏輯，以便自動將與其他這些尋找方法相關聯的eVar設定為等於「非尋找方法」值。

例如，當使用者使用關鍵字「涼鞋」來搜尋產品時，Analytics 的程式碼邏輯應該將此變數設定為等於內部關鍵字搜尋結果頁面上的以下值：

* eVar2=「涼鞋」：在內部關鍵字搜尋中使用了關鍵字「涼鞋」
* eVar1=「內部關鍵字搜尋」：使用了「內部關鍵字搜尋」尋找方法
* eVar3=「非內部行銷活動」：未使用內部行銷活動來存取搜尋結果頁面
* eVar4=「非瀏覽」：未在搜尋結果頁面上存取瀏覽類別
* eVar5=「非交叉銷售」：未在搜尋結果頁面上點擊交叉銷售連結

## 銷售 eVar 設定

以下是您可以用於銷售 eVar 的幾項不同設定。 以下螢幕擷圖來自於報表套裝管理員。 透過以下方式存取該管理員：移至「[!UICONTROL Analytics] > [!UICONTROL 管理員] > [!UICONTROL 報表套裝] > [!UICONTROL 編輯設定] > [!UICONTROL 轉換] > [!UICONTROL 轉換變數] > [!UICONTROL 新增] > [!UICONTROL 啟用銷售]」。

![商品 eVars](/help/admin/tools/manage-rs/edit-settings/conversion-var-admin/assets/merch-evars1.png)

請在表格下方的章節中尋找這些設定的更多詳細資訊。

| 設定 | 說明 |
|--- | --- |
| 名稱 | 變數要與其建立關聯的名稱或報告維度。 如果 `eVar1` 要用來擷取產品尋找方法，則 `eVar1` 的名稱欄位應該設定為「產品尋找方法」。 |
| 銷售 | 將用來擷取銷售 eVar 值的語法類型 |
| 配置 | 有助於確定當成功事件發生時應該獲得點數的銷售 eVar 值。 |
| 有效期限 | 決定現有產品與銷售 eVar 綁定何時不再有效。 |
| 類型 | 正在銷售 eVar 中收集的資料類型 |
| 銷售捆綁事件 | 決定產品何時應該與銷售 eVar 值綁定的事件 |
| 重設 | 在該時間點後將重設 eVar 的所有後端資料的觸發條件 |
| 啟用銷售 | 需要設定為「已啟用」以便將 eVar 從標準 eVar 變成銷售 eVar 的標幟 |

### 啟用銷售

當「啟用銷售」設定設為「已啟用」時，底下所述的所有設定都會出現在報表套裝管理員中。 當「啟用銷售」設定設為「已停用」時，只能使用標準 eVar 設定。

### 銷售

此選項不適用於標準 eVar。 「[!UICONTROL 銷售]」設定可讓您挑選「[!UICONTROL 轉換變數語法]」或「[!UICONTROL 產品語法]」當做擷取銷售 eVar 值的方法。

「**[!UICONTROL 轉換變數語法]**」代表您會在 eVar 變數中設定 eVar 值。 例如，在使用轉換變數語法時，「內部關鍵字搜尋」的`eVar1`值在頁面代碼(或AppMeasurement程式碼、Adobe Experience Platform Web SDK程式碼等)中的設定如下：

`s.eVar1="internal keyword search";`

但在使用「**[!UICONTROL 產品語法]**」時，只會在 Adobe Analytics 產品變數中設定 eVar。 Analytics 產品變數依據各個產品分成六個不同部分：

`s.products="[category];[name];[quantity];[revenue];[events];[eVars]"`

* [!UICONTROL 類別]和[!UICONTROL 名稱]是用來識別特定的產品。
* [!UICONTROL 品質]和[!UICONTROL 收入]在追蹤產品購買時非常實用。
* [!UICONTROL 事件]可用於記錄不應計入收入的自訂增量或貨幣事件值 (例如運費、折扣等)

設定為可使用產品語法的銷售 eVar 是在產品變數的最後部分中所設定。 例如，假設有一位訪客使用了內部關鍵字搜尋來尋找產品 ID「12345」。 在此範例中，基於產品語法設定 eVar1 的方式如下所示：

`s.products=";12345;;;;eVar1=internal keyword search";`

請注意，我們在產品變數的數量、收入和事件等部分中還是有以分號分隔的預留位置。 如果沒有這些預留位置，內部關鍵字搜尋的 `eVar1` 設定將會完全被忽略。

### 配置

適用於銷售 eVar 的「配置」一詞可能會誤導人，尤其是使用轉換變數語法的銷售 eVar。 所有標準 eVar 都可以有自己的個別配置設定。 然而，使用轉換變數語法的銷售 eVar 只會使用「最近 (上一個)」配置設定，無論報表套裝管理員中的配置設定顯示為何。

了解這項設定也就表示了解 eVar 配置與銷售 eVar 綁定之間的差異。 對於銷售 eVar，「銷售 eVar 綁定」是更適合這項「配置」設定的名稱。

#### 標準 eVar 配置設定

每當從影像要求收集了包含標準語法的任何 eVar 時，Adobe Analytics 處理伺服器就會將資料插入另一個資料庫欄，稱為 `post_evar` 欄。 由於 eVar 是持久的 (在大多數情況下，eVar 會在超出目前點擊的某個時間點到期)，隨後伺服器會在每個後續影像要求中設定這個 `post_evar` 欄。 它會設定為等於傳遞到其對應 eVar 中的最後一個值。 對於標準 eVar，當發生成功事件時，Adobe Analytics 會使用 `post_evar` 欄 (而非一般 eVar 欄) 來決定應該因此事件獲得點數的 eVar 值。

對於標準 eVar，配置設定會決定在某段期間收集的第一個還是最後一個 eVar 值將插入 `post_evar` 欄。 如果標準 eVar 的配置設定等於「原始值 (第一個)」，則在所有後續的影像要求中，向訪客收集的第一個 eVar 值會插入 `post_evar` 欄。 從這名訪客的瀏覽器傳送的所有未來要求都將繼續這項處理，直到 eVar 根據其「有效期限」設定到期為止。

如果標準 eVar 的配置設定等於「最近 (上一個)」，則在所有後續的影像要求中，向訪客收集的最近 eVar 值會填入 `post_evar` 欄。 「最近 (上一個)」配置表示在任何影像要求中，每次將對應的 eVar 設定為新的值時，`post_evar` 都會變更。 「原始值 (第一個)」配置表示，`post_evar` 欄不會因點擊而改變，即便在將來的影像要求中，其對應的 eVar 可能設定為不同的值。

#### 銷售 eVar 配置 (綁定) 設定

先前已提過，使用轉換變數語法的所有銷售 eVar 只有「最近 (上一個)」配置。 因此，當訪客繼續使用網站時，銷售 eVar 的配置設定不會決定要將哪些值插入 post_evar 欄。 此設定會決定要將哪一個 eVar 值與產品綁定，以及這類產引如何將其成功事件配置回其綁定的 eVar 值。

當銷售 eVar 配置 (亦即綁定) 設定為等於「原始值 (第一個)」時，會發生以下情況：與 post_evar 欄一起設定且之前未綁定至 post_evar 欄的對應「已預先處理」eVar 的任何產品都將會綁定至 post_evar 欄中所包含的值。 在 eVar 根據報表套裝設定中的「有效期限」設定到期之前，eVar 值與產品之間的綁定永遠都不會改變。

每當影像要求符合將已綁定的產品綁定至最近設定的 eVar 值的條件時，「原始值 (第一個)」設定就會強制 Adobe Analytics 資料收集伺服器忽略任何此類進一步的嘗試。 當銷售 eVar 的配置 (綁定) 設定等於「最近 (上一個)」時，就會發生相反的情形。 每當影像要求符合將產品與銷售 eVar 綁定的條件時，該產品就會將它自己與最近傳入 eVar 中的值或 (始終) 包含在 `post_evar` 欄中的值綁定 (及重新綁定)。

如先前所述，銷售 eVars 可讓您將成功事件分配給每個產品層級上的 eVar 值，而不是每次造訪/每次訂購的層級上的值。 因此，每當已綁定的產品有關聯的成功事件 (例如購物車新增或購買) 時，該成功事件就會將其點數提供給產品以及該產品於當時所綁定的銷售 eVar 值。

### 有效期限

銷售 eVar 的有效期限設定可讓您選擇

* 產品/eVar 綁定應該何時到期，以及

* 將 eVar 傳入影像要求之後，何時應該不再自動填入 post_evar 欄。

在已記錄成功事件或是過了特定期間時，eVar 可能會過期。 Adobe Analytics 一次只允許每個 eVar 有一個「有效期限」設定。

對於產品尋找方法，設定銷售 eVar 有效期限的最佳做法應該是設定為等於

* 網站自動將產品從購物車中移除之前，該產品保留在網站的購物車中的時間 (例如 14 天、30 天等)
* 或是購買事件發生時。

無論是哪一個設定，訪客購買的任何產品都會將訂單/件數/收入點數分配給當時產品綁定的銷售 eVar 值。

### 類型

eVar 類型設定會決定要將哪一類型的資料插入 eVar 中。 在大多數情況下，這個值應該等於「Text」。 將「Counter」用於銷售 eVar 的情況很少見。 然而，「Counter」可用來根據個別產品將成功分配給 Counter eVar 值。 「Counter」類型的解決方案的討論不在本文件的涵蓋範圍內。

### 銷售捆綁事件

銷售捆綁事件設定可讓您指定產品與銷售 eVar 的值綁定的條件。 這些條件僅限於引發特定成功事件或 eVar。 引發流量變數 (例如 prop) 對於銷售捆綁沒有任何影響。

請注意，銷售捆綁事件設定可透過一個以上的事件將產品與 eVar 值綁定。 範例：

* 透過產品瀏覽事件
* 透過購物車新增事件
* 透過購買事件

根據預設，每當與產品相同的影像要求中包含其他任何事件/eVar (銷售或標準) 時，此設定就會將產品與銷售 eVar 值綁定。

### 重設

重設設定可讓您將目前在 Adobe Analytics 後端資料庫中擁有 `post_evar` 值的所有訪客的所有 eVar 值立刻「到期」。 它也會移除目前所有的產品/eVar 綁定。

>[!IMPORTANT]
>Adobe 不建議使用重設設定，除非您打算讓 eVar 全部重新開始，從重設作業開始時讓資料處於完全「乾淨」的狀態。

## 您應該使用哪些設定？

在眾多可用的設定組合中，您可能會想要知道：哪些設定是最佳做法？

如果您想要將「內部關鍵字搜尋」與產品 ID 12345 綁定，產品變數的設定如下：

`s.products=";12345;;;;eVar1=internal keyword search";`

與產品 ID 12345 同時擷取的任何成功事件 (購物車新增、購買) 都會將其點數提供給產品 ID 12345 和「內部關鍵字搜尋」的 eVar1 值。 對於與產品 ID 12345 相關的成功事件，不同 eVar1 值收到點數的唯一方式就是稍後將 eVar1 設定為產品變數中的不同值 (連同產品 ID 12345)。

例如：

```js
s.products=";12345;;;;eVar1=internal campaign";
```

此變數設定會將產品 ID 12345 的綁定從「內部關鍵字搜尋」的 eVar1 值變更為「內部行銷活動」的 eVar1 值。 此外，當 eVar 設定為使用「最近 (上一個)」的產品語法和配置 (綁定) 設定時，也會發生這項重新綁定。 如果配置 (綁定) 設定改為設定為「原始值 (第一個)」，則將 eVar1 設定為等於「內部行銷活動」及產品 ID 12345 時，並不會將產品 ID 12345 與「內部行銷活動」的 eVar1 值重新綁定。 該綁定將保留最初綁定的值，亦即「內部關鍵字搜尋」。

### 使用產品語法的挑戰

如果沒有小心規劃，使用產品語法時可能會發生幾個問題。 以使用多個 eVar 追蹤網站上的產品尋找方法為例。 這裡的每個個別產品尋找方法 eVar 都必須設定為相同時間，以便提供點數給特定尋找方法 eVar (以及不提供點數給其他尋找方法 eVar)。 在這類情況下可以使用產品語法，但是產生的程式碼部署起來比較複雜。

如果我們使用原始的「涼鞋」範例，並將其調整為使用產品語法 (假設訪客使用關鍵字字詞「涼鞋」找到了 ID 為「sandal123」的產品)，則產生的產品變數必須設定如下：

`s.products=";sandal123;;;;eVar2=sandals|eVar1=internal search|eVar3=non-internal campaign|eVar4=non-browse|eVar5=non-cross-sell";`

雖然此範例中的產品變數的語法很長，但是它會將每個看到的 eVar 值與「sandal123」的產品 ID 綁定。 之後，與「sandal123」產品同時擷取到的任何成功事件 (例如購物車新增、購買) 都將提供點數給最後綁定到產品的 eVar 值。 此程式碼範例說明，如果在上述的 eVar 已經與「sandal123」產品綁定後購買 1 件「sandal123」產品 (價格為 $79.95 美元)：

```js
s.products=";sandal123;1;79.95";
s.events="purchase";
```

以下值將會有 1 筆訂單、1 件產品和 $79.95 美元的收入歸因於它們：

* 「涼鞋」的 eVar2 值
* 「內部關鍵字搜尋」的 eVar1 值
* 「非內部行銷活動」的 eVar3 值
* 「非瀏覽」的 eVar4 值
* 「非交叉銷售」的 eVar5 值

這是正確的歸因，所以不是問題。 這種做法的主要難題在於決定如何及何時設定產品尋找方法 eVar。

在使用產品語法的大多數情況下，產品尋找方法 eVar 必須在產品詳細資料頁面上設定，而不是在實際使用此尋找方法的頁面上設定 (例如在關鍵字搜尋結果頁面、瀏覽頁面及內部行銷活動登陸頁面上等)。 我們可以合理地假設，在訪客與產品進行某種程度的互動之前，還沒有真正「找到」產品。 因此，這些 eVar (使用產品語法) 不應該在尋找方法頁面上設定，因為通常會有多個產品顯示在這類頁面上。 我們想要將尋找方法值僅與訪客曾經互動的產品綁定。

此外，在檢視尋找方法頁面時，訪客或許能夠按一下連結來進入個別產品詳細資料頁面，或是直接從尋找方法頁面將個別產品加入購物車。 以我們的「涼鞋」搜尋關鍵字為例，如果訪客從關鍵字搜尋結果頁面直接將「sandal123」產品加入購物車，則擷取購物車新增的程式碼（透過「加入購物車」按鈕的onClick事件等）必須在購物車新增發生時動態產生，或直接透過頁面程式碼或標籤管理系統進行「硬式編碼」。  無論是哪一種情況，在這類情況下引發的程式碼會如以下所示：

```js
s.linkTrackVars="products,events";
s.linkTrackEvents=s.events="scAdd";
s.products=";sandal123;;;;eVar2=sandals|eVar1=internal keyword search|eVar3=non-internal campaign|eVar4=non-browse|eVar5=non-cross-sell";
s.tl(true,"o","Cart Add")
```

此程式碼適當地將上面看到的 eVar 值與「sandal123」產品綁定。 然而，為了在點擊事件發生時適當地設定這些值，開發人員必須：

* 將伺服器端邏輯新增到搜尋結果頁面，此頁面會決定必須將哪些值插入產品尋找方法 eVar，並且
* 組合上面看到的所有產品變數，且沒有語法錯誤。

此外，如果訪客決定按一下產品詳細資料頁面的連結來「尋找」產品，則開發人員必須：

* 從尋找方法頁面將產品尋找方法詳細資料 (如上面所見) 傳遞給產品詳細資料頁面，並且
* 根據剛才從上一頁傳遞過來的項目重新建立相同的產品變數值。

### 產品語法在哪些情況下很有用

產品語法在以下情況下還是很有用

* 訪客同時與具有相同產品 ID 的多個產品進行互動，而且
* 要與這類產品綁定的 eVar 需要在各個產品 ID 中有不同的值。

例如，許多服裝產品都有「子 SKU」，用於指定尺寸、顏色、款式和任何其他屬性。 這些屬性區隔了屬於相同母產品的單一子產品與其他產品。 假設您決定購買一件中號藍色 T 恤和一件大號紅色 T 恤。 假設這兩件 T 恤都有設定母產品 ID「tshirt123」和 `eVar10` 以擷取子 SKU。 在購買確認頁面上設定的變數將會如下所示：

```js
s.events="purchase";
s.products=";tshirt123;1;20;;eVar10=tshirt123-m-blue,;tshirt123;1;20;;eVar10=tshirt123-l-red";
```

在此案例中，「tshirt123-m-blue」和「tshirt123-l-red」的 `eVar10` (子 SKU) 值因為購買了各自的產品 ID「tshirt123」實例而獲得點數。

### 「最近」配置的挑戰

當您使用「最近 (上一個)」的配置 (綁定) 設定時，可能會遇到幾個問題。 在許多網頁瀏覽體驗中，訪客會「重新尋找」他們之前已瀏覽及/或加入購物車的產品。 這通常是經由後續造訪或是在他們決定完成購買之前進行。 假設訪客在造訪網站時，透過關鍵字搜尋「涼鞋」找到「sandal123」產品。 他們立即從關鍵字搜尋結果頁面將此產品加入購物車。 擷取購物車的程式碼將會設定如下：

```js
s.linkTrackVars="products,events";
s.linkTrackEvents=s.events="scAdd";
s.products=";sandal123;;;;eVar2=sandals|eVar1=internal keyword search|eVar3=non-internal campaign|eVar4=non-browse|eVar5=non-cross";
```

因此，在此影像要求中看到的每個 eVar 值都會與「sandal123」產品綁定。

現在，假設訪客在這次造訪期間不購買產品，而是在三天後返回網站，而且「sandals123」產品依然在購物車內。 該訪客想要在購買前進一步了解此產品。 該訪客瀏覽整個網站，不是使用關鍵字搜尋來尋找此產品。 最後他在「女士 > 鞋子 > 涼鞋」產品瀏覽區段中，然後「重新尋找」此產品。 當他最後「重新尋找」產品詳細資料頁面來找出「sandal123」產品時，變數會設定如下 (載入頁面時)：

```js
s.events="prodView";
s.products=";sandal123;;;;eVar4=womens > shoes > sandals|eVar1=browse|eVar3=non-internal campaign|eVar2=non-search|eVar5=non-cross-sell";
```

由於配置 (綁定) 設定為「最近 (上一個)」，所以「sandal123」產品會重新綁定到與原本綁定的 eVar 值完全不同的 eVar 值。 此外，如果訪客之後完成「sandal123」的購買，則所有購買點數都會提供給這些最新綁定的 eVar 值，而不是最初綁定的值！

這裡的問題是：哪些 eVar 值應該獲得此購買的點數？請記得，該訪客最初透過內部關鍵字搜尋找到了「sandal123」產品。 然後他直接從搜尋結果頁面將此產品加入購物車。 因此，「內部關鍵字搜尋」的 eVar1 值 (以及「涼鞋」的 eVar2 值) 應該獲得此購買的點數。 然而，配置 (綁定) 設定已設定為「最近 (上一個)」。 因此，「瀏覽」的 eVar1 值 (以及「女士 > 鞋子 > 涼鞋」的 eVar4 值) 應該獲得此購買的點數。 原因是因為這些值是訪客完成購買之前最後與「sandal123」綁定的值。

此問題的解決方法是將銷售 eVar 的配置 (綁定) 設定從「最近 (上一個)」變更為「原始值 (第一個)」。 如此一來，與「sandal123」產品綁定的原始 eVar 值會在發生購買行為時獲得點數，無論訪客「重新尋找」產品多少次。

如果訪客將產品加入購物車但從未購買，eVar 有效期限允許將新的尋找方法值與該產品綁定。 eVar 有效期限應該等於網站在自動移除產品之前允許產品留在購物車內的時間。

### 使用轉換變數語法

讓我們回到「產品語法」與「轉換變數語法」相較之下的問題。 Adobe 發現了一種更簡單的方法，既可以收集產品尋找方法銷售 eVar，也可以將其值與訪客找到的產品綁定：使用轉換變數語法可減少用戶端開發人員負責的實作工作。 這種方法還是會提供與產品語法方法相同或甚至更好的資訊。 開發人員只需要依照提供給他們的部署指示進行，其餘程式碼可以放入Adobe AppMeasurement/Adobe Experience Platform Web SDK檔案中。

例如，讓我們來看一下建議用來追蹤內部關鍵字搜尋效能的解決方法。 它在關鍵字搜尋結果頁面上指示，程式碼會擷取透過 prop (例如 prop4) 和另一個 prop (例如 prop5) 搜尋的關鍵字。 這些 prop 會追蹤搜尋頁面中顯示的結果數量。 每當在搜尋結果頁面上產生 Adobe Analytics 影像要求時，它都會使用開發人員部署的資料層物件 (或頁面代碼) 來填寫上述變數 (prop)。

AppMeasurement/Adobe Experience Platform Web SDK檔案中包含的其他邏輯可以填入需要同時設定的其餘變數（銷售eVar/維度）。\
例如，如果有新訪客執行「涼鞋」的關鍵字搜尋，並在搜尋結果頁面上傳回 25 項結果，則要引發的程式碼 (透過頁面代碼或資料層擷取) 會如下所示：

```js
s.prop4="sandals";
s.prop5="25";
```

接著 AppMeasurement/Analytics SDK 檔案中的邏輯可能會自動將此程式碼片段轉換為以下內容：

```js
s.prop4="sandals";
s.prop5="25";
s.eVar2="sandals";
s.eVar1="internal keyword search";
s.eVar3="non-internal campaign";
s.eVar4="non-browse";
s.eVar5="non-cross sell";
```

不需要擔心必須在不同頁面之間傳遞資料，也不用擔心必須嘗試建立相當大且笨重的字串以插入產品變數中。 開發人員可以實作其追蹤解決方案部分 (插入 prop 中的內容)，而其餘的實作則交給 Adobe Consulting 提供的自訂程式碼。

先前已說明過，使用轉換變數語法的所有銷售 eVar 具有「最近 (上一個)」的配置設定。 將 eVar 設定為等於任何值時，後續的所有點擊都會保存該值 (透過 post_evar 欄)。 該值會保存到它設定為不同的值或 eVar 過期為止。 因此，任何人在設定 eVar 之後進行互動的任何產品 (如果尚未與這些 eVar 綁定) 都會與傳入 eVar 中的「最近 (上一個)」值綁定。

在上述範例中，「涼鞋」的 `eVar2` 值及「內部關鍵字搜尋」的 eVar1 值等會在進行關鍵字搜尋後保存在所有頁面上。 這些值會保存到 eVar 被其他值覆寫為止。 假設訪客從關鍵字搜尋結果頁面針對「sandal123」產品 ID 點擊產品詳細資料頁面的連結。 然後「sandal123」產品 ID (如果尚未綁定) 會與 post_evar 欄中所包含的每個值綁定，或是與上一個 (搜尋結果) 頁面收集的 eVar 值綁定。

在使用轉換變數語法時，還需要重新考量一件事。 也就是必須設定捆綁事件，以便將 eVar 值與產品綁定。 只在 Adobe Analytics 影像要求中設定銷售 eVar (在其自己的變數中設定) 及產品 (在產品變數中設定) 不一定會將 eVar 值與產品綁定。 而是由報表套裝管理員中設定的銷售捆綁事件設定來決定將 eVar 值與產品綁定的條件

因為我們想要在每次發生產品互動時 (這表示「找到」產品) 將產品尋找方法 eVar 值與產品綁定，所以我們可以安全地假設最常發生的「找到產品」互動為產品瀏覽 (當訪客進入產品詳細資料頁面時) 或購物車新增 (當訪客直接從產品尋找方法頁面將產品加入購物車時)。

因此，我們可以選擇兩個事件 (prodView、scAdd) 當做基本「銷售捆綁事件」。
以下是當影像要求中包含任何一個捆綁事件時所發生的事情。 相同要求中所包含的任何產品 ID (在產品變數內) 如果尚未與銷售 eVar 綁定，則會與最近傳入銷售 eVar (post_evar 欄) 中的值綁定。 當配置 (綁定) 設定等於「原始值 (第一個)」時，在進行這項最初綁定後重新綁定這些產品的任何嘗試動作將會被忽略。

### 最佳做法設定

以下是最佳做法設定。 這些設定可輕鬆地實作產品尋找方法，並獲得最佳結果。 Adobe 建議用戶端在一般情況下，將其每個產品尋找方法銷售 eVar 設定如下：

* 啟用銷售：已啟用
* 銷售[語法]：轉換變數語法
* 配置[綁定]：原始值 (第一個)
* 有效期限：自動將產品從購物車中移除之前，該產品保留在購物車中的時間 (例如 14 天、30 天等)。 如果沒有設定這類時間，則會在「購買」事件後到期
* 類型：文字
* 銷售捆綁事件：產品瀏覽、購物車新增及購買

## 捆綁事件實際上有什麼作用？

當與產品變數相同的伺服器呼叫中包含捆綁事件時，其後置欄中的銷售 eVar (使用轉換變數語法) 值會與產品變數綁定。 根據之前的範例，假設有一個伺服器呼叫包含以下銷售 eVar 值：

```js
s.eVar2="sandals";
s.eVar1="internal keyword search";
s.eVar3="non-internal campaign";
s.eVar4="non-browse";
s.eVar5="non-cross sell";
```

如同先前所說明，上述 eVar 會透過各自 post_evar 欄在目前點擊之後繼續保存。 因此，Adobe 的伺服器會將上述 eVar 轉換成以下項目：

```js
post_eVar2="sandals";
post_eVar1="internal keyword search";
post_eVar3="non-internal campaign";
post_eVar4="non-browse";
post_eVar5="non-cross sell";
```

這些後置欄會儲存在 Adobe 的資料庫中，而且會在其最初設定的目前點擊之後繼續保存。 這假設沒有期限，也不會發生變數重設。 Adobe 的伺服器會在處理任何包含捆綁事件和產品變數的未來伺服器呼叫時，讓這些 post_evar 值「可用」。

發生的綁定只會在這些 post_evar 值與產品變數的內容之間進行。 此捆綁事件不一定會與 eVar 或產品變數「綁定」。 「catalyst」會告訴 Adobe 伺服器將 post_evar 值與產品綁定。

假設在未來點擊中設定以下變數：

```js
s.products=";sandals123"
s.events="prodView";
```

在 post_evar 欄中，Adobe 處理伺服器看到如下的點擊：

```js
s.products=";sandals123";
s.events="prodView";
post_eVar2="sandals";
post_eVar1="internal keyword search";
post_eVar3="non-internal campaign";
post_eVar4="non-browse";
post_eVar5="non-cross sell";
```

假設 eVar1、eVar2、eVar3、eVar4 和 eVar5 已設定為可使用 `prodView` 當做捆綁事件。 如果未將上述任何 eVar 設定為可使用 prodView 當做捆綁事件，則 (設定錯誤的) eVar 與產品變數之間將不會發生綁定。

綁定會產生一些很有趣的結果，您可以在 post_products 欄的值中看到這些結果。 綁定會轉換上述程式碼，並設定其他幾個後置欄，如下所示：

```js
post_events="prodView";
post_products=";sandals123;;;;eVar2=sandals|eVar1=internal keyword search|eVar3=non-internal campaign|eVar4=non-browse|eVar5=non-cross-sell";
```

您可能會很熟悉 post_products 欄中所包含的值。 在此文件中向上捲動，並且比較此 post_products 值與 s.products 值，如下所示。 請注意，post_products 欄是使用產品變數語法所設定！

這表示，綁定作業會透過產品語法將轉換變數語法 eVar 值「複製」到產品變數中。 只會在相同要求中包含產品變數和捆綁事件 (透過 eVar 組態所設定) 時，才會發生這個複製動作。 在該時間點，post_eVar 欄中包含的值會與產品綁定。 這項綁定是透過儲存在 post_products 欄中的產品語法來表示。

## 銷售eVar、例項量度和歸因

在 Analytics 伺服器呼叫中傳送標準 eVar 時，其 post_evar 欄中的值總是會取得歸因於它的實例。 實例代表 eVar 已設定為等於影像要求中的特定值的次數。

例如，假設 `eVar10` 是標準 eVar 並具有[!UICONTROL 上次接觸]歸因。 如果您在任何頁面上設定 `s.eVar10="hello world"`，則當 Adobe 處理點擊時，「hello world」的值會傳遞給 post_evar10 欄。 對於 `hello world` 的個別 `eVar10` 設定，實例量度等於「1」。 請牢記，當 post_evar 欄有值時，不一定會記錄實例。 而是由 post_evar 欄決定在記錄實例時，哪一個值會取得實例。

銷售 eVar 的實例會將歸因提供給 eVar 所收集的值。 但是只有當已與銷售 eVar 值綁定的產品同時「進行了互動」時，才會發生這個情況。

例如，自行設定 `s.eVar1="Internal Keyword Search"` 並不會將任何實例量度點數提供給「內部關鍵字搜尋」的 eVar1 值。 此時會記錄一個實例。 然而，除非產品在設定 `eVar1` 的同時與該「內部關鍵字搜尋」值綁定，否則此實例會歸因於未指定的貯體。 換言之，「內部關鍵字搜尋」的 `eVar1` 值可以取得實例。 但是只有當與「內部關鍵字搜尋」值綁定的產品出現在相同影像要求中的產品變數內時，才會發生這個情形。

總之，如果沒有其他組態設定，用於銷售 eVar 的現成實例量度用處不大。 幸運的是，Adobe已發行[歸因](/help/analyze/analysis-workspace/attribution/overview.md)。 它可讓您針對 Adobe Analytics 收集的任何自訂量度來套用多個歸因模型。 套用這些歸因模型的量度不會使用 post_evar 欄中包含的值或是與任何一個特定產品綁定的值。 這些量度只會使用透過影像要求本身傳遞的值 (或是透過 Adobe Analytics 處理規則擷取的值)。 您可以使用「歸因」中的功能，針對所有使用轉換變數語法的銷售eVar取得正確歸因的例項量度。

![歸因選取](/help/admin/tools/manage-rs/edit-settings/conversion-var-admin/assets/attribution-select.png)

將銷售eVar的例項量度新增至報表時，正確的歸因模型為「上次接觸」模型。 在此情況下，此模型的回顧視窗設定並不重要。 原因是因為「強制」上次接觸歸因模型總是會提供實例點數給每個透過要求傳遞的個別值。 這與 eVar 的實際歸因/綁定設定設為等於「最近 (上一個)」還是「原始值 (第一個)」無關。
